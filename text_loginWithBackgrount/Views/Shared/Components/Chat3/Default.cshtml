<!--  https://boxicons.com/ -->
<link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>

<script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
<script src="~/lib/bootstrap/dist/js/bootstrap.min.js"></script>

<script src="~/lib/jquery/dist/jquery.min.js"></script>



<style>  

    /* 聊天室按鈕 */
    #tool-btn {
        position: fixed;
        bottom: 15px;
        right: 70px;
        width: 44px;
        height: 44px;
        background-color: blueviolet;
        color: white;
        border-radius: 50%;
        text-align: center;
        line-height: 50px;
        cursor: pointer;
        font-size: 30px;
        z-index: 9999;
    }

    #chat-message {
        display: none; 
        position: fixed;
        bottom: 15px;
        right: 130px;
        width: 200px;
        height: 400px;
        background-color: white;
        border: 2px solid #005757;
        border-radius: 8px;
        z-index: 9999;
        overflow: hidden;
        overflow-y: auto;
        overflow-x: hidden;
    }

    .contact-message{
        background-color: #005757;
        height:60px;
        display: flex; 

        align-items: center;
        margin: 3px;
        padding: 1px;

    }

 
    .contact-message-name {
        margin: 10px 3px;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        border: 2px solid #005757;
        background-color: white;
        color: black;
        display: flex;
        align-items: center;
        justify-content: center;
        text-align: center;
        overflow: hidden;
        white-space: nowrap;
        cursor: pointer;

    }

    .contact-message-lastmessage{
        flex-grow: 1;
    }


    .contact-message-msg {
        color: #D0D0D0;
        height: 35px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        box-sizing:border-box;
        margin: 1px 5px;
        padding: 1px;
        font-size:1.1rem;
    }




    #chat-container {
        display: none; 
        position: fixed;
        bottom: 15px;
        right: 130px;
        width: 300px;
        height: 400px;
        background-color: white;
        border: 2px solid #005757;
        border-radius: 8px;
        z-index: 9999;
        overflow: hidden;
    }



    #topBar {
        display: flex;
        align-items: center;
        justify-content: space-between;
        height: 30px;
        background-color: #005757;
        color: #fff;
        padding: 5px;
    }


    #topBar p{
        font-size: 1.5rem;
        cursor: pointer;
        margin: 0;
    }


    #mid {
        display: flex;
        width: 100%;
        height: 370px;
    }

    #leftSide {
        width: 50px;
        background-color: #00AEAE;
        overflow-y: auto;
        overflow-x: hidden;
    }

    #leftSide::-webkit-scrollbar {
        width: 5px; /* 滾動條寬度 */
    }
    #leftSide::-webkit-scrollbar-thumb {
            background-color: #005757; /* 滾動條滑塊顏色 */
        border-radius: 30px; /* 滾動條圓角 */
    }
    #leftSide::-webkit-scrollbar-track {
            background-color: white; /* 滾動條顏色 */
    }




    #rightSide {
        flex: 1;
        display: flex;
        flex-direction: column;
    }

    #topSection {
        display: flex;
        height: 30px;
        background-color: #00AEAE;
        justify-content: space-between;
        padding:5px;
        align-items: center;
    }

    #topSection p {
        font-size: 1.2rem;
        cursor: pointer;
        margin: 0;
    }

    #middleSection {
        flex-grow: 1; /* 中间部分占据剩余的空间 */
        background-color: #84C1FF;
        overflow-y: auto;
        overflow-x: hidden;
        width: 100%;
    }

    #middleSection::-webkit-scrollbar {
        width: 5px; /* 滾動條寬度 */
    }

    #middleSection::-webkit-scrollbar-thumb {
        background-color: #005757; /* 滾動條滑塊顏色 */
        border-radius: 30px; /* 滾動條圓角 */
    }

    #middleSection::-webkit-scrollbar-track {
        background-color: white; /* 滾動條顏色 */
    }

    .msg_send{
        margin:0 5px;
        padding:5px;
        border-radius: 15px;
        color:black;
        background-color: #79FF79;
        overflow-wrap:break-word;
        max-width:80%;
        float: right;
        clear: both;
    }

    .msg{
        margin: 0 5px;
        padding: 5px;
        border-radius:15px;
        color: black;
        background-color: #7B7B7B;
        overflow-wrap: break-word;
        max-width: 80%;
        float: left;
        clear: both;
    }


    .msg_time_send {
        font-size: 10px;
        color: #E0E0E0;
        margin-bottom:5px;
        margin-right:5px;
        float: right;
        clear: both;
    }

    .msg_time{
        font-size:10px;
        color: #E0E0E0;
        margin-bottom: 5px;
        margin-left: 5px;
        float: left;
        clear: both;
    }

    #bottomSection {
        display: flex;
        height: 20%;
        background-color: #00AEAE;
        padding:3px 0 8px 3px;
    }

    #enter_msg{
        background-color:white;
        width:85%;
        height:100%;
        overflow-wrap: break-word;
        overflow-y: auto;
        overflow-x: hidden;
        resize: none;
    }

    #enter_msg::-webkit-scrollbar {
        width: 5px; /* 滾動條寬度 */
    }

    #enter_msg::-webkit-scrollbar-thumb {
        background-color: #005757; /* 滾動條滑塊顏色 */
        border-radius: 30px; /* 滾動條圓角 */
    }

    #enter_msg::-webkit-scrollbar-track {
        background-color: white; /* 滾動條顏色 */
    }

    #sendBtn{
        align-items: center;
        justify-content: center;
        text-align: center;
        font-size:22px;
        margin:3px;
        border-radius:8px;
        width:15%;
        padding:0;
        border: none;
        color: #005757;
        background-color: white;
    }



</style>






<!--聊天室按鈕-->
<div id="tool-btn">
    <i class='bx bx-message-rounded-dots'></i>
</div>


<div id="chat-message">
    <div id="topBar">
        <p class="closeBtn"><i class='bx bx-x-circle'></i></p>
    </div>
    <div id="messages">
        <div>
            <div class="contact-message">
                <div class="contact-message-name">黃家恩</div>
                <div class="contact-message-lastmessage">
                    <div class="contact-message-msg">1234567</div>
                    <div class="msg_time_send">2024/3/4 20:42:24</div>
                </div>
            </div>
            <div class="contact-message">
                <div class="contact-message-name">正楷竟</div>
                <div class="contact-message-lastmessage">
                    <div class="contact-message-msg">1234567</div>
                    <div class="msg_time_send">2024/3/4 20:42:24</div>
                </div>
            </div>
        </div>

    </div>


</div>




<div id="chat-container">
    <div id="topBar">
        <p class="closeBtn"><i class='bx bx-x-circle'></i></p>
    </div>
    <div id="mid">

        <div id="rightSide">


            <div id="topSection" >
                <div>使用者</div>
                <p><i class='bx bx-dots-vertical-rounded'></i></p>
            </div>


            <div id="middleSection">


                <div class="msg_container">
                    <div class="msg_send">你好</div>
                    <div class="msg_time_send">2024/3/4 20:42:22</div>
                </div>
                
                <div class="msg_container">
                    <div class="msg">我很好</div>
                    <div class="msg_time">2024/3/4 20:42:23</div>
                </div>

                <div class="msg_container">
                    <div class="msg">
                        在一個古老的村莊裡，有一隻能說話的貓。它告訴村民們一個神秘的預言，說明他們要面臨一場大難。村民們開始努力準備，最終成功克服了困難，而這位神秘的貓也成為了村莊的守護者。
                    </div>
                    <div class="msg_time">2024/3/4 20:42:24</div>
                </div>

                <div class="msg_container">
                    <div class="msg_send">lorwsssssssslorwawdasd fasfsaf asf asf asf asfsa afssafdassssssssssss</div>
                    <div class="msg_time_send">2024/3/4 20:42:25</div>
                </div>
                

            </div>

            <div id="bottomSection">

                <textarea id="enter_msg"></textarea>
                <button id="sendBtn"><i class='bx bx-play'></i></button>
            </div>


        </div>

    </div>
</div>





<!--搜尋聯絡人-->
<script>
    $(document).ready(function () {
        var $contact = $('.contact');

        $('#searchInput').on('input', function () {
            var searchTerm = $(this).val().toLowerCase();

            $contact.each(function () {
                var Contact = $(this).text().toLowerCase();
                $(this).toggle(Contact.includes(searchTerm));
            });
        });
    });
</script>





<script>
    $(document).ready(function () {
        var toolBtn = $('#tool-btn');
        var chatContainer = $('#chat-message');

        toolBtn.click(function () {
            $('#chat-container').hide();
            $('#chat-message').toggle();
        });
    });
</script>


<script>
    $(document).ready(function () {
        var closeBtn = $('.closeBtn');

        closeBtn.click(function () {
            $('#chat-container').hide();
            $('#chat-message').hide();
        });
    });
</script>

<script>
    $(document).ready(function () {
        var closeBtn = $('.contact-message');

        closeBtn.click(function () {
            $('#chat-message').hide();
            $('#chat-container').toggle();
        });
    });
</script>